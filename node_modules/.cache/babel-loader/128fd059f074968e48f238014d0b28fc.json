{"ast":null,"code":"import { db } from './firebase';\nexport const initialState = {\n  users: [],\n  products: []\n};\nexport const reducer = (prevState = initialState, action) => {\n  const customersRef = db.collection('user');\n\n  switch (action.type) {\n    case \"fetch_user_details\":\n      let copyUsers = [...prevState.users];\n      customersRef.where(\"userID\", \"==\", `${action.targetID}`).get().then(snapshot => {\n        snapshot.forEach(user => {\n          console.log(user.data());\n        });\n      }).then(() => {}).catch(error => console.log(\"Update Error: \", error));\n      console.log(action);\n      return { ...prevState,\n        users: copyUsers\n      };\n\n    default:\n      return prevState;\n  } // return prevState;\n\n};","map":{"version":3,"sources":["/Users/matildamwendwa/Documents/Strathmore/Year 2/Web Application Dev/react_semester_project/src/components/reducer.js"],"names":["db","initialState","users","products","reducer","prevState","action","customersRef","collection","type","copyUsers","where","targetID","get","then","snapshot","forEach","user","console","log","data","catch","error"],"mappings":"AACA,SAASA,EAAT,QAAmB,YAAnB;AAEA,OAAO,MAAMC,YAAY,GAAG;AACxBC,EAAAA,KAAK,EAAE,EADiB;AAExBC,EAAAA,QAAQ,EAAE;AAFc,CAArB;AAOP,OAAO,MAAMC,OAAO,GAAG,CAACC,SAAS,GAAGJ,YAAb,EAA2BK,MAA3B,KAAsC;AACzD,QAAMC,YAAY,GAAGP,EAAE,CAACQ,UAAH,CAAc,MAAd,CAArB;;AAEA,UAAOF,MAAM,CAACG,IAAd;AAGI,SAAK,oBAAL;AACI,UAAIC,SAAS,GAAG,CAAC,GAAGL,SAAS,CAACH,KAAd,CAAhB;AAEAK,MAAAA,YAAY,CACPI,KADL,CACW,QADX,EACqB,IADrB,EAC4B,GAAEL,MAAM,CAACM,QAAS,EAD9C,EAESC,GAFT,GAGSC,IAHT,CAGeC,QAAQ,IAAI;AACfA,QAAAA,QAAQ,CAACC,OAAT,CAAkBC,IAAI,IAAI;AACtBC,UAAAA,OAAO,CAACC,GAAR,CAAYF,IAAI,CAACG,IAAL,EAAZ;AACH,SAFD;AAGH,OAPT,EAQSN,IART,CAQe,MAAM,CAAE,CARvB,EASSO,KATT,CASiBC,KAAD,IAAWJ,OAAO,CAACC,GAAR,CAAY,gBAAZ,EAA8BG,KAA9B,CAT3B;AAUAJ,MAAAA,OAAO,CAACC,GAAR,CAAYb,MAAZ;AACA,aAAM,EACF,GAAGD,SADD;AAEFH,QAAAA,KAAK,EAAEQ;AAFL,OAAN;;AAMJ;AACI,aAAOL,SAAP;AAxBR,GAHyD,CA6BjD;;AAEX,CA/BM","sourcesContent":["\nimport { db } from './firebase'\n\nexport const initialState = {\n    users: [],\n    products: []\n\n};\n\n\nexport const reducer = (prevState = initialState, action) => {\n    const customersRef = db.collection('user')\n\n    switch(action.type) {\n\n\n        case \"fetch_user_details\":\n            let copyUsers = [...prevState.users]\n\n            customersRef\n                .where(\"userID\", \"==\", `${action.targetID}`)\n                    .get()\n                    .then( snapshot => {\n                        snapshot.forEach( user => {\n                            console.log(user.data())\n                        })\n                    })\n                    .then( () => {})\n                    .catch( (error) => console.log(\"Update Error: \", error))\n            console.log(action)\n            return{\n                ...prevState,\n                users: copyUsers,\n            }\n\n\n        default: \n            return prevState;\n    }\n            // return prevState;\n\n}\n\n"]},"metadata":{},"sourceType":"module"}