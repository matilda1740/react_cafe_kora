{"ast":null,"code":"var _jsxFileName = \"/Users/matildamwendwa/Documents/Strathmore/Year 2/Web Application Dev/react_semester_project/src/components/Register.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport { Link, useHistory } from 'react-router-dom';\nimport './Login.css';\nimport { useAuth } from '../contexts/AuthContext';\nimport { db } from './firebase';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Register() {\n  _s();\n\n  const history = useHistory();\n  const {\n    currentUser,\n    registerUser\n  } = useAuth();\n  const [firstName, setFirstName] = useState();\n  const [lastName, setLastName] = useState();\n  const [userEmail, setUserEmail] = useState();\n  const [userPass, setUserPass] = useState();\n  const [userConfirmPass, setConfirmPass] = useState();\n  const customersTable = db.collection(\"customers\");\n\n  const handleChange = e => {\n    if (e.target.name === \"registerFname\") {\n      setFirstName(e.target.value);\n    } else if (e.target.name === \"registerLname\") {\n      setLastName(e.target.value);\n    } else if (e.target.name === \"registerEmail\") {\n      setUserEmail(e.target.value);\n    } else if (e.target.name === \"registerPass\") {\n      setUserPass(e.target.value);\n    } else if (e.target.name === \"registerConfirmPass\") {\n      setConfirmPass(e.target.value);\n    }\n  };\n\n  const addToDatabase = () => {\n    if (currentUser) {\n      customersTable.add({\n        \"fname\": firstName,\n        \"lname\": lastName,\n        \"email\": userEmail,\n        \"pass\": userPass,\n        \"confirmPass\": userConfirmPass,\n        \"authid\": currentUser.uid\n      });\n      history.push(\"/\");\n    }\n  };\n\n  const handleSubmit = async e => {\n    e.preventDefault();\n\n    try {\n      await registerUser(userEmail, userPass);\n      addToDatabase();\n      console.log(customersTable);\n    } catch (error) {\n      console.log(\"Registration Error: \", error);\n\n      if (error.code === \"\") {}\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"section\", {\n    className: \"login_section reg_section\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"login_logo\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Customer Sign Up\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      className: \"registration_form\",\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        className: \"form_labels\",\n        children: \"First Name:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        onChange: handleChange,\n        type: \"text\",\n        className: \"form_inputs\",\n        name: \"registerFname\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        className: \"form_labels\",\n        children: \"Last Name:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        onChange: handleChange,\n        type: \"text\",\n        className: \"form_inputs\",\n        name: \"registerLname\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        className: \"form_labels\",\n        children: \"Email:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        onChange: handleChange,\n        type: \"email\",\n        className: \"form_inputs\",\n        name: \"registerEmail\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        className: \"form_labels\",\n        children: \"Password:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        onChange: handleChange,\n        type: \"password\",\n        className: \"form_inputs\",\n        name: \"registerPass\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        className: \"form_labels\",\n        children: \"Confirm Password:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        onChange: handleChange,\n        type: \"password\",\n        className: \"form_inputs\",\n        name: \"registerConfirmPass\",\n        password: \"\",\n        autoComplete: \"new-password\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        className: \"form_btn \",\n        children: \"Sign Up\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"login_footer\",\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Already have an account?\", /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/login\",\n          children: \" Sign In\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/\",\n          children: [/*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"fas fa-chevron-left\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 34\n          }, this), \"Back Home\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 63,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Register, \"RL2GRD1HrwQ+vaNEgiToWjGhJ74=\", false, function () {\n  return [useHistory, useAuth];\n});\n\n_c = Register;\n\nvar _c;\n\n$RefreshReg$(_c, \"Register\");","map":{"version":3,"sources":["/Users/matildamwendwa/Documents/Strathmore/Year 2/Web Application Dev/react_semester_project/src/components/Register.js"],"names":["React","useState","Link","useHistory","useAuth","db","Register","history","currentUser","registerUser","firstName","setFirstName","lastName","setLastName","userEmail","setUserEmail","userPass","setUserPass","userConfirmPass","setConfirmPass","customersTable","collection","handleChange","e","target","name","value","addToDatabase","add","uid","push","handleSubmit","preventDefault","console","log","error","code"],"mappings":"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","sourcesContent":["import React, { useState } from 'react'\nimport { Link, useHistory } from 'react-router-dom'\nimport './Login.css'\nimport { useAuth } from '../contexts/AuthContext'\nimport { db } from './firebase'\n\nexport default function Register() {\n\n    const history = useHistory();\n    const { currentUser, registerUser } = useAuth(); \n\n    const [firstName, setFirstName] = useState();\n    const [lastName, setLastName] = useState();\n    const [userEmail, setUserEmail] = useState();\n    const [userPass, setUserPass] = useState();\n    const [userConfirmPass, setConfirmPass] = useState();\n\n    const customersTable = db.collection(\"customers\")\n    const handleChange = (e) => {\n        \n        if(e.target.name === \"registerFname\"){\n            setFirstName(e.target.value)\n        }else if (e.target.name === \"registerLname\"){\n            setLastName(e.target.value)\n        }else if (e.target.name === \"registerEmail\"){\n            setUserEmail(e.target.value)\n        }else if(e.target.name === \"registerPass\"){\n            setUserPass(e.target.value)\n        }else if(e.target.name === \"registerConfirmPass\"){\n            setConfirmPass(e.target.value)\n        }\n\n    }\n    const addToDatabase = () => {\n        if(currentUser){\n            customersTable.add({\n                \"fname\": firstName,\n                \"lname\": lastName,\n                \"email\": userEmail,\n                \"pass\": userPass,\n                \"confirmPass\": userConfirmPass,\n                \"authid\": currentUser.uid\n            })\n            history.push(\"/\")\n        }\n    }\n    const handleSubmit = async e => {\n        e.preventDefault();\n        try{\n            await registerUser(userEmail, userPass)\naddToDatabase()\n            console.log(customersTable)\n        }catch(error){\n            console.log(\"Registration Error: \", error)\n\n            if(error.code === \"\"){\n\n            }\n        } \n    }\n\n    return (\n        <section className=\"login_section reg_section\">\n        \n            <div className=\"login_logo\">\n                {/* <!-- <img src=\"images/logo.png\" alt=\"Site Logo\" /> --> */}\n            </div>\n            <h2>Customer Sign Up</h2>\n            <form onSubmit={handleSubmit} className=\"registration_form\">\n                <label className=\"form_labels\">First Name:</label>\n                <input onChange={handleChange} type=\"text\" className=\"form_inputs\" name=\"registerFname\" />\n                <label className=\"form_labels\">Last Name:</label>\n                <input onChange={handleChange} type=\"text\" className=\"form_inputs\" name=\"registerLname\" />\n                <label className=\"form_labels\">Email:</label>\n                <input onChange={handleChange} type=\"email\" className=\"form_inputs\" name=\"registerEmail\" />\n                <label className=\"form_labels\">Password:</label>\n                <input onChange={handleChange} type=\"password\" className=\"form_inputs\" name=\"registerPass\" />\n                <label className=\"form_labels\">Confirm Password:</label>\n                <input onChange={handleChange} type=\"password\" className=\"form_inputs\" name=\"registerConfirmPass\" password=\"\" autoComplete=\"new-password\" />\n                \n                <button type=\"submit\" className=\"form_btn \">Sign Up</button>\n            </form>\n            <div className=\"login_footer\">\n                <p>Already have an account?\n                    <Link to=\"/login\"> Sign In</Link>\n                </p>\n                <p>\n                    <Link to=\"/\"><i className=\"fas fa-chevron-left\"></i>Back Home</Link>\n                </p>\n            </div>\n        </section>        \n    )\n}\n"]},"metadata":{},"sourceType":"module"}